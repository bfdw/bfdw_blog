# 如何使用gcf查询机核电台节目的相关信息。

gcf(g-cores fans)是一个发布在PyPI上的命令行工具。gcf使用pandas这把屠龙刀对抓取到的机核电台节目信息进行简单的检索和统计，包括各期节目的名称，栏目，编号，DJ群，上线日期等等，功能十分简单。本文是以“狂给自己加戏”的态度写成的“加戏ReadMe”。如果阅读时产生不适感，或对gcf有任何问题请查阅PyPI的工程说明：“认真ReadMe”。

本文试图使用gcf找到以下两个问题的答案：

1. 西蒙的出台率是多少？

2. 到底机核哪个DJ才是四十二的心头好？



3. 电台节目有史以来的DJ都有谁？

5. 网站上有多少期节目没有标注主持人？都是哪几期？

安装说明：

macOS用户，请打开终端Terminal，用pip install gcf进行安装。pip是一个Python包管理器，如果你的mac没有pip，请先搜索“mac如何安装pip”或者使用 sudo easy_install pip 进行安装。

windows用户，请下载先安装Python，然后在cmd中python pip install gcf进行安装。

在Terminal中直接运行gcf或者在cmd中运行 python gcf 可以直接查看简单的参数说明，在此不赘述。


安装完毕后，需要对gcf的原始数据集进行升级，以便跟上机核最新的电台节目。

```
$ gcf update
正在询问机核Gadio是否有新内容...
取得Gadio页面数据 1 ...
更新节目： E32018 EA&Bethesda 展前发布会总结
更新节目： E3 2018 Xbox展前发布会总结
更新节目： E3你最期待的游戏是？GadioNews6.1~6.7
更新节目： 《魔兽世界故事》卷十六-原始德拉诺与埃匹希斯文明
更新节目： 《足球小将》的诞生与影响，聊一聊这部让无数人爱上足球的经典作
更新节目： 游戏差评有几种写法5.25~5.31GadioNews开播！
更新节目： 主角们的趁手兵器——星际战士武库介绍
Misson Complete!
```

因为原始数据集已经包含了2018年5月以前所有电台节目，所以更新时只会将最新的节目加入数据集。数据集更新后，用一个查询来说明gcf的用法及部分参数的意义：西蒙从去年2月1号到今年清明节期间，参加的pro节目中，有哪些节目标题里提到了“史”？

```
$ gcf --dj '西蒙' --title '史' --prog 'GADIO pro' --time 20170201 20180405
```

# 插入图片


gcf命令的参数包含参数名和参数值，参数名--dj标定主持人，--title标定标题中的关键字，--prog标定栏目名称，--time标定时间段。除时间参数外，注意其他几个参数需要用英文单引号括住。去掉搜索中的任意一个参数都会扩大该搜索条件，比如去掉时间参数 --time 20170201 20180504，搜索结果就会扩大到任意时间，而不只是指定时间段。

有时候想要搜索DJ组合，而不是单个DJ，可以用#将多个DJ的id连起来作为--dj的参数值进行搜索：四十二和麦教授都搭档过哪些节目？

```
$ gcf --dj '四十二#麦教授'
```

# 插入图片

gcf通过对主持人，标题等参数的选定，可以进行基本的搜索。除此之外，gcf也通过子命令career和statistic，来对基本搜索的结果进行处理。career子命令是gcf提供的生涯模式，比如可以搜索龙马的电台节目，并用生涯模式进行解读（注意子命令不是参数，因此没有‘-’这个符号）

```
gcf --dj 'Ryoma' career --size Q --ratio 2
2016-Q2 |   4 |██|
2016-Q3 |   7 |███|
2016-Q4 |  15 |███████|
2017-Q1 |  21 |██████████|
2017-Q2 |  15 |███████|
2017-Q3 |  19 |█████████|
2017-Q4 |  20 |██████████|
2018-Q1 |  19 |█████████|
2018-Q2 |  27 |█████████████|
```

Ryoma是龙马的id。gcf首先搜索了Ryoma参加过的所有节目，然后将结果传给子命令career进行简单统计。图表展示了龙马自2016年以来每个季度的出台数。子命令career的参数--size标定了统计的时间粒度为季度Q，还可以按照年度Y，以及月度M来统计。--ratio标定了图表的收缩系数，即图表的宽度，数字越小，宽度越大，防止过大或过小的统计数字影响图表显示效果。生涯模式中还可以标注 --perc，标注后gcf会将出台次数与当时段总节目数相比，转化为出台率，例如四十二的出台率：


```
$ gcf --dj '四十二' career --size Q --ratio 2 --perc
2015-Q1 |   0 |□□□□□□□□□□□□□□□□□□□□□| 21 (0%)
2015-Q2 |   0 |□□□□□□□□□□□□□□□□□□□□□□□□□□| 26 (0%)
2015-Q3 |   1 |█□□□□□□□□□□□□□□□□□□□□□□| 23 (4%)
2015-Q4 |   6 |██████□□□□□□□□□□□□□□□□□□□□□| 27 (22%)
2016-Q1 |   4 |████□□□□□□□□□□□□□□□□□□□□| 24 (16%)
2016-Q2 |  11 |███████████□□□□□□□□□□□□□□□□□□□□□| 32 (34%)
2016-Q3 |  12 |████████████□□□□□□□□□□□□□□□□□□□□□□| 34 (35%)
2016-Q4 |  18 |██████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 47 (38%)
2017-Q1 |  20 |████████████████████□□□□□□□□□□□□□□□□□□□□□□| 42 (47%)
2017-Q2 |  21 |█████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□| 47 (44%)
2017-Q3 |  24 |████████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 52 (46%)
2017-Q4 |  18 |██████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 53 (33%)
2018-Q1 |  25 |█████████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 54 (46%)
2018-Q2 |  25 |█████████████████████████□□□□□□□□□□□□□□□□□□□| 44 (56%)
```

从图表中可以看到龙四十二各个季度的出台率，本季度达到最高的56%，也是出台次数最多的季度，鉴于本季度于6月底才结束，而本文只统计至6月中旬，因此这一记录还有望刷新！


gcf提供的统计模式子命令statistic可以对基本搜索结果的栏目数和DJ出场人次进行统计。比如：四十二最近参加的100期节目中，都是那些栏目？最常跟谁搭档？

```
$ gcf --dj '四十二' --recent 100 statistic
```

# 插入图片

从图表中可以看到四十二参加各栏目的情况，以及最近100期最常搭档的前三名分别的龙马55次，Nadya48次和西总布35次。如果去掉参数--recent 100，则查询范围扩大到所有电台节目，而不是“四十二参加的最近100期”。

通过上文的介绍，以下两个问题的答案需要在这里寻找：

1. 西蒙的出台率是多少？
$ gcf --dj '西蒙' career --size Q --prec

2. 到底机核哪个DJ才是四十二的心头好？
$ gcf --dj '四十二' statistic


# 习题

1. 谁最爱参加关于任天堂的节目？

2. 电台节目有史以来的DJ都有谁？各参加过几次节目？

3. 网站上有多少期节目没有标注主持人？都是哪几期？

4. 新闻节目里谁只出现过1次？

# 坑

如果更新数据集遇到权限问题，请到gcf的安装目录下，用chmod 777 gcf_data.csv进行授权
单引号请用英文字符




































> 在进一步说明gcf之前，请先安装gcf。macOS用户，请打开终端Terminal，用pip install gcf进行安装。pip是一个Python包管理器，如果你的mac没有pip，请先搜索“mac如何安装pip”或者使用 sudo easy_install pip 进行安装。windows用户请下载先安装Python，并在安装时勾选pip，以及命令行执行python。安装完毕后，在Terminal中直接运行gcf可以直接查看简单的参数说明，在此不赘述。

安装完毕后，需要对gcf的原始数据集进行升级，以便跟上机核最新的电台节目。

```
$ gcf update
正在询问机核Gadio是否有新内容...
取得Gadio页面数据 1 ...
更新节目： E32018 EA&Bethesda 展前发布会总结
更新节目： E3 2018 Xbox展前发布会总结
更新节目： E3你最期待的游戏是？GadioNews6.1~6.7
更新节目： 《魔兽世界故事》卷十六-原始德拉诺与埃匹希斯文明
更新节目： 《足球小将》的诞生与影响，聊一聊这部让无数人爱上足球的经典作
更新节目： 游戏差评有几种写法5.25~5.31GadioNews开播！
更新节目： 主角们的趁手兵器——星际战士武库介绍
Misson Complete!
```

因为原始数据集已经包含了2018年5月以前所有电台节目，所以更新时只会将最新的节目加入数据集。数据集更新后，用一个查询来说明gcf的用法及部分参数的意义：西蒙从去年2月1号到今年清明节期间，参加的pro节目中，有哪些节目标题里提到了“史”？

```
$ gcf --dj '西蒙' --title '史' --prog 'GADIO pro' --time 20170201 20180405
```

搜索结果如下：
```
+----+--------------+----------------------------------------------------------+-------------------------------+
|    | radio_date   | radio_title                                              | radio_dj                      |
|----+--------------+----------------------------------------------------------+-------------------------------|
|  1 | 2018-03-23   | 科幻迷最应该了解的文学简史以及视觉体系.下                     | 四十二,西蒙,ikaired             |
|  2 | 2018-03-06   | 科幻迷最应该了解的文学简史以及视觉体系.上                     | ikaired,西蒙,四十二             |
|  3 | 2018-01-30   | 地海三国志：讲述缔造西方文明的帝国们的罗曼史（下）              | NJBK,西蒙,麦教授               |
|  4 | 2018-01-23   | 地海三国志：讲述缔造西方文明的帝国们的罗曼史                   | 麦教授,西蒙,NJBK               |
|  5 | 2017-12-08   | 借助《冰与火之歌》聊聊英国中世纪史.下篇                       | 西蒙,这样重这样轻,Ryoma         |
|  6 | 2017-11-15   | 《银翼杀手》幕后秘史第三卷-流吧，我的眼泪                     | RED,范克里夫大尉,zhounan,西蒙   |
|  7 | 2017-11-09   | 这些再熟悉不过的游戏与电影中，藏着西文“字体”的分类与历史        | 西蒙,四十二,metaphox           |
|  8 | 2017-11-02   | 《银翼杀手》幕后秘史第二卷-黑色未来                          | 西蒙,范克里夫大尉,RED,zhounan   |
|  9 | 2017-10-26   | 《银翼杀手》幕后秘史第一卷－从电子羊到银翼杀手                 | 西蒙,范克里夫大尉,RED,zhounan   |
| 10 | 2017-10-07   | 借助《冰与火之歌》聊聊英国中世纪史.上篇                       | 西蒙,这样重这样轻,Ryoma         |
| 11 | 2017-08-19   | 《魔法门》系列历史-《英雄无敌3》的辉煌                        | 西蒙,陆夫人,四十二              |
| 12 | 2017-07-07   | 《魔法门》系列历史-《英雄无敌》的崛起                         | 陆夫人,西蒙,四十二              |
| 13 | 2017-04-21   | 《魔法门》系列历史-魔法门的起源与秘闻                         | 四十二,西蒙,陆夫人              |
+----+--------------+----------------------------------------------------------+-------------------------------+
```

gcf命令的参数包含参数名和参数值，参数名--dj标定主持人，--title标定标题中的关键字，--prog标定栏目名称，--time标定时间段。除时间参数外，注意其他几个参数需要用英文单引号括住。去掉搜索中的任意一个参数都会扩大该搜索条件，比如去掉时间参数 --time 20170201 20180504，搜索结果就会扩大到任意时间，而不只是指定时间段。有时候想要搜索DJ组合，而不是单个DJ，可以用#将多个DJ的id连起来作为--dj的参数值进行搜索：四十二和麦教授都搭档过哪些节目？

```
$ gcf --dj '四十二#麦教授'
+----+--------------+----------------------------------------------------------+-------------------------------------+
|    | radio_date   | radio_title                                              | radio_dj                            |
|----+--------------+----------------------------------------------------------+-------------------------------------|
|  1 | 2017-07-17   | 在西方的语境下，东方文明到底是什么样子？－通识之“东方”篇 | 四十二,麦教授,西蒙                  |
|  2 | 2017-01-22   | 这个春节你打算玩什么？GadioNews1.13~1.19开播！           | 麦教授,xizongbu,Ryoma,四十二,光之虹 |
|  3 | 2016-12-06   | 《杀出重围》的故事（下）以及到底什么是赛博朋克           | 西蒙,麦教授,四十二                  |
|  4 | 2016-11-20   | 帮助你了解《Deus EX 杀出重围》全系列的世界观设定（上）   | 麦教授,四十二,西蒙                  |
|  5 | 2016-08-02   | 用游戏讲政治通识之三【共和国】篇                         | 麦教授,四十二,西蒙                  |
|  6 | 2016-07-21   | 用游戏讲政治通识之【王国】篇                             | 麦教授,四十二,西蒙                  |
|  7 | 2016-05-16   | 通识－帝国                                               | 麦教授,西蒙,四十二                  |
|  8 | 2016-01-05   | 变革的时代                                               | 西蒙,四十二,麦教授                  |
+----+--------------+----------------------------------------------------------+-------------------------------------+
```

gcf通过对主持人，标题等参数的选定，完成了基本搜索功能。除此之外，gcf还可以通过子命令来对基本搜索的结果进行一些加工处理。下面用gcf的career子命令来了解龙马的电台生涯。（注意子命令不是参数，因此没有‘-’这个符号）

```
gcf --dj 'Ryoma' career --size Q --ratio 1
2016-Q1 |   0 ||
2016-Q2 |   4 |████|
2016-Q3 |   7 |███████|
2016-Q4 |  15 |███████████████|
2017-Q1 |  21 |█████████████████████|
2017-Q2 |  15 |███████████████|
2017-Q3 |  19 |███████████████████|
2017-Q4 |  20 |████████████████████|
2018-Q1 |  19 |███████████████████|
2018-Q2 |  27 |███████████████████████████|
```
Ryoma既是龙马的id。gcf首先搜索了Ryoma参加过的所有节目，然后将结果传给子命令career进行简单统计。图表展示了龙马自2016年以来每个季度的出台次数。子命令career的参数--size标定了统计的时间粒度，还可以按照年度Y，以及月度M来统计。--ratio标定了图表的收缩系数，即图表的宽度，数字越小，宽度越大，防止过大或过小的统计数字影响图表显示效果。生涯模式中还可以标注 --perc，标注后gcf会将出台次数与当时段总节目数相比，转化为出台率，例如四十二的出台率：


```
$ gcf --dj '四十二' career --size Q --ratio 1 --prec
2015-Q1 |   0 |□□□□□□□□□□□□□□□□□□□□□| 21 (0%)
2015-Q2 |   0 |□□□□□□□□□□□□□□□□□□□□□□□□□□| 26 (0%)
2015-Q3 |   1 |█□□□□□□□□□□□□□□□□□□□□□□| 23 (4%)
2015-Q4 |   6 |██████□□□□□□□□□□□□□□□□□□□□□| 27 (22%)
2016-Q1 |   4 |████□□□□□□□□□□□□□□□□□□□□| 24 (16%)
2016-Q2 |  11 |███████████□□□□□□□□□□□□□□□□□□□□□| 32 (34%)
2016-Q3 |  12 |████████████□□□□□□□□□□□□□□□□□□□□□□| 34 (35%)
2016-Q4 |  18 |██████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 47 (38%)
2017-Q1 |  20 |████████████████████□□□□□□□□□□□□□□□□□□□□□□| 42 (47%)
2017-Q2 |  21 |█████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□| 47 (44%)
2017-Q3 |  24 |████████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 52 (46%)
2017-Q4 |  18 |██████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 53 (33%)
2018-Q1 |  25 |█████████████████████████□□□□□□□□□□□□□□□□□□□□□□□□□□□□□| 54 (46%)
2018-Q2 |  25 |█████████████████████████□□□□□□□□□□□□□□□□□□□| 44 (56%)
```

从图表中可以看到龙四十二各个季度的出台率，本季度达到最高的56%，也是出台次数最多的季度，鉴于本季度于6月底才结束，而本文只统计至6月中旬，因此这一记录还有望刷新！


































解决在同一台mac上需要向不同Github账号提交代码的需求。简单的说，就是通过创建多个密钥，配置ssh，使本地可以push代码到不同的Github账户。














```
$ gcf
Usage: gcf [OPTIONS] COMMAND [ARGS]...

          _____       _____      ______
         / ____|     / ____|    |  ____|
        | |  __     | |         | |__
        | | |_ |    | |         |  __|
        | |__| |    | |____     | |
         \_____|     \_____|    |_|

  G-Cores(g-cores.com) Fans --- A Gadio Info Tool

Options:
  -d, --dj TEXT              Search by dj, such as -d '西蒙#四十二' or '西蒙'.
                             Use #, if you need a dj group.
  -p, --prog TEXT            Search by program, such as -p 'gadio'.
                             Use #, if you need multiple programs.
  -tt, --title TEXT          Search by program, such as -tt '的'.
  -t, --time <TEXT TEXT>...  Search by release time, such as -t 20180101
                             20180302
  -e, --expt                 Export data to a cvs file
  -c, --col TEXT             Show data with specific columns as -tb
                             'date#title#dj'
  -pt, --path TEXT           Give the path to loading another cvs data.
  -r, --recent INTEGER       Show the most recent gadios.
  --help                     Show this message and exit.

Commands:
  career     Show results with the career mode
  drop       Drop all radio information
  statistic  Show results with statistic mode
  update     Update data to the last gadio
```

